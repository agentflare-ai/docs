---
title: "Servers API"
sidebarTitle: "Servers"
description: "Manage your MCP servers and proxy configurations"
icon: "code"
---

## Overview

The Servers API allows you to manage MCP servers, configure proxy settings, and monitor server health. All endpoints require authentication via API key.

## Base URL

```
https://api.agentflare.com/v1/servers
```

## Endpoints

### List Servers

<CodeGroup>
```bash cURL
curl -X GET \
  "https://api.agentflare.com/v1/servers" \
  -H "Authorization: Bearer <your-api-key>" \
  -H "Content-Type: application/json"
```

```javascript JavaScript
const response = await fetch('https://api.agentflare.com/v1/servers', {
  method: 'GET',
  headers: {
    'Authorization': 'Bearer <your-api-key>',
    'Content-Type': 'application/json'
  }
});
const servers = await response.json();
```

```python Python
import requests

response = requests.get(
    'https://api.agentflare.com/v1/servers',
    headers={
        'Authorization': 'Bearer <your-api-key>',
        'Content-Type': 'application/json'
    }
)
servers = response.json()
```
</CodeGroup>

**Response:**
```json
{
  "success": true,
  "data": [
    {
      "id": "srv_abc123",
      "name": "search-server",
      "type": "http",
      "endpoint": "https://search.example.com/mcp",
      "status": "active",
      "health": "healthy",
      "created_at": "2024-01-01T00:00:00Z",
      "updated_at": "2024-01-01T00:00:00Z"
    }
  ],
  "pagination": {
    "page": 1,
    "limit": 50,
    "total": 1,
    "pages": 1
  }
}
```

### Create Server

<CodeGroup>
```bash cURL
curl -X POST \
  "https://api.agentflare.com/v1/servers" \
  -H "Authorization: Bearer <your-api-key>" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "my-server",
    "type": "http",
    "endpoint": "https://my-server.example.com/mcp",
    "authentication": {
      "type": "bearer",
      "token": "server-token"
    }
  }'
```

```javascript JavaScript
const response = await fetch('https://api.agentflare.com/v1/servers', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer <your-api-key>',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    name: 'my-server',
    type: 'http',
    endpoint: 'https://my-server.example.com/mcp',
    authentication: {
      type: 'bearer',
      token: 'server-token'
    }
  })
});
```

```python Python
import requests

response = requests.post(
    'https://api.agentflare.com/v1/servers',
    headers={
        'Authorization': 'Bearer <your-api-key>',
        'Content-Type': 'application/json'
    },
    json={
        'name': 'my-server',
        'type': 'http',
        'endpoint': 'https://my-server.example.com/mcp',
        'authentication': {
            'type': 'bearer',
            'token': 'server-token'
        }
    }
)
```
</CodeGroup>

**Request Parameters:**

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| `name` | string | Yes | Unique server name |
| `type` | string | Yes | Server type: `http`, `websocket`, `stdio` |
| `endpoint` | string | Yes | Server endpoint URL |
| `authentication` | object | No | Authentication configuration |
| `timeout` | number | No | Request timeout in milliseconds (default: 30000) |
| `retry` | object | No | Retry configuration |

**Response:**
```json
{
  "success": true,
  "data": {
    "id": "srv_abc123",
    "name": "my-server",
    "type": "http",
    "endpoint": "https://my-server.example.com/mcp",
    "status": "active",
    "health": "unknown",
    "created_at": "2024-01-01T00:00:00Z",
    "updated_at": "2024-01-01T00:00:00Z"
  }
}
```

### Get Server

<CodeGroup>
```bash cURL
curl -X GET \
  "https://api.agentflare.com/v1/servers/{server_id}" \
  -H "Authorization: Bearer <your-api-key>"
```

```javascript JavaScript
const response = await fetch(`https://api.agentflare.com/v1/servers/${serverId}`, {
  headers: {
    'Authorization': 'Bearer <your-api-key>'
  }
});
```

```python Python
response = requests.get(
    f'https://api.agentflare.com/v1/servers/{server_id}',
    headers={'Authorization': 'Bearer <your-api-key>'}
)
```
</CodeGroup>

### Update Server

<CodeGroup>
```bash cURL
curl -X PUT \
  "https://api.agentflare.com/v1/servers/{server_id}" \
  -H "Authorization: Bearer <your-api-key>" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "updated-server-name",
    "timeout": 60000
  }'
```

```javascript JavaScript
const response = await fetch(`https://api.agentflare.com/v1/servers/${serverId}`, {
  method: 'PUT',
  headers: {
    'Authorization': 'Bearer <your-api-key>',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    name: 'updated-server-name',
    timeout: 60000
  })
});
```
</CodeGroup>

### Delete Server

<CodeGroup>
```bash cURL
curl -X DELETE \
  "https://api.agentflare.com/v1/servers/{server_id}" \
  -H "Authorization: Bearer <your-api-key>"
```

```javascript JavaScript
const response = await fetch(`https://api.agentflare.com/v1/servers/${serverId}`, {
  method: 'DELETE',
  headers: {
    'Authorization': 'Bearer <your-api-key>'
  }
});
```
</CodeGroup>

### Server Health Check

<CodeGroup>
```bash cURL
curl -X GET \
  "https://api.agentflare.com/v1/servers/{server_id}/health" \
  -H "Authorization: Bearer <your-api-key>"
```

```javascript JavaScript
const response = await fetch(`https://api.agentflare.com/v1/servers/${serverId}/health`, {
  headers: {
    'Authorization': 'Bearer <your-api-key>'
  }
});
```
</CodeGroup>

**Response:**
```json
{
  "success": true,
  "data": {
    "status": "healthy",
    "response_time": 125,
    "last_check": "2024-01-01T00:00:00Z",
    "uptime": "99.9%",
    "error_rate": "0.1%"
  }
}
```

## Server Configuration

### HTTP/HTTPS Servers

```json
{
  "name": "search-server",
  "type": "http",
  "endpoint": "https://search.example.com/mcp",
  "authentication": {
    "type": "bearer",
    "token": "your-server-token"
  },
  "timeout": 30000,
  "retry": {
    "enabled": true,
    "max_attempts": 3,
    "backoff": "exponential"
  }
}
```

### WebSocket Servers

```json
{
  "name": "realtime-server",
  "type": "websocket",
  "endpoint": "wss://realtime.example.com/mcp",
  "authentication": {
    "type": "oauth2",
    "client_id": "your-client-id",
    "client_secret": "your-client-secret"
  },
  "heartbeat": {
    "enabled": true,
    "interval": 30000
  }
}
```

### Stdio Servers

```json
{
  "name": "local-server",
  "type": "stdio",
  "command": "/usr/local/bin/mcp-server",
  "args": ["--config", "/etc/mcp/config.json"],
  "env": {
    "MCP_SERVER_TOKEN": "your-token",
    "LOG_LEVEL": "info"
  },
  "working_directory": "/app"
}
```

## Error Responses

### 400 Bad Request

```json
{
  "success": false,
  "error": {
    "code": "INVALID_REQUEST",
    "message": "Invalid server configuration",
    "details": {
      "field": "endpoint",
      "issue": "Invalid URL format"
    }
  }
}
```

### 404 Not Found

```json
{
  "success": false,
  "error": {
    "code": "SERVER_NOT_FOUND",
    "message": "Server not found",
    "details": {
      "server_id": "srv_abc123"
    }
  }
}
```

### 409 Conflict

```json
{
  "success": false,
  "error": {
    "code": "SERVER_NAME_EXISTS",
    "message": "A server with this name already exists",
    "details": {
      "name": "duplicate-server-name"
    }
  }
}
```

## Rate Limits

- **List Servers**: 100 requests per minute
- **Create Server**: 10 requests per minute
- **Update Server**: 30 requests per minute
- **Delete Server**: 10 requests per minute
- **Health Check**: 60 requests per minute

## Next Steps

<CardGroup cols={2}>
  <Card title="Tool Calls API" icon="terminal" href="/api-reference/endpoints/tool-calls">
    Query tool call data and metrics
  </Card>
  <Card title="Analytics API" icon="chart-line" href="/api-reference/endpoints/analytics">
    Access performance and usage analytics
  </Card>
</CardGroup>